# 0219 computer structure_Performance


## 개론

1. 무어의 법칙

    - 하나의 칩에 들어가는 트랜지스터의 수는 2년마다 2배 증가

    - 인터넷의 경제 3원칙

    - 2000년대 초반부터 이 법칙은 깨짐

  

2. 목표

    - 알고리즘 :  연산의 수를 결정

    - 프로그램 언어, 컴파일러 : 실행할 명령어의 수를 결정

    - 프로세서와 메모리 : 명령어를 얼마나 빨리 실행하는가를 결정

    - 입출력장치 : 입출력을 얼마나 빨리 하는가를 결정 

    **-> 이를 통해 퍼포먼스를 좋게 만드는 것이 목표**



3. 프로그램 언어

    - high-level language 

    - assembly language

    - hardware representation



## Performance 

- **response time(응답시간)** 하나의 일을 실행하는데 몇 초 걸리는가?
- **throughput(처리량)**  단위 시간당 몇 개의 일을 하는가?
- 이때 퍼포먼스를 response time이라고 정의할 경우, Performance = 1/실행 시간
- **elapsed time 작업을 끝내는 데 필요한 전체 응답 시간(system performanc)**
- **cpu time 오직 cpu에서만 걸리는 시간  -  user cpu time,  system cpu time**
- 순차 회로는 일정한 클럭에 따라 동작, 이 주기를 클럭 주기며 pico second로 단위로 나타내며(1ps = 0.01ns ) cpu의 초당 클럭 사이클 수를 클럭 속도라고 한다.
- 따라서 **cpu time**은 **clock cycles/clock rate** 또는 **clock cycles * clock time **로 나타낼 수 있다. 
- 즉 클럭 주기를 줄이거나 **clock period(clock rate = 1/clock perid)**를 줄이거나 하면 cpu time은 줄어들음
- **clock cycles = instruction count(프로그램, isa, 컴파일러로 의해 결정됨) * cycles per instruction(다른 명령어들은 다른 cpi를 쓰며(명령어 조합에 의해 결정됨), cpu 하드웨어에 따라 결정**
-  알고리즘, 프로그래밍 언어, 컴파일러는 instruction count와 cpi에 연관/ 아키텍쳐는 모두 영향(clock period까지)



## power wall



- power = **capactive load  * (전력소비량 * * 2) * clock frequency)**

- 전력 소비량을 이제 맞출 수 없으므로, 더 높은 전력 또는 빈번한 frequency을 사용할 시 열이 엄청 많이 남.
- 파워가 성능향상에 장애물이 됨



## Multicore microprocessor



- parrel programing 여러 개의 명령어를 동시에 하는 것을 의미,  단 순차조합회로에 비해 굉장히 짜기 어려움, 
- 명령끼리의 속도가 달라서 로드 밸런싱이나 명령어끼리의 대화가 늦어질 수 있음






## CPU(중앙 처리 장치)



### 제어장치



    주 기억장치에 있는 프로그램의 명령을 **해독**한 후 각 장치에게 필요한 **제어신호**를 보내는 장치

- 기능

  - 주기억장치와 ALU 간의 경로를 설정한다(이로 인해 **Datapath**라고도 함)

  - ALU에 특정한 실행 신호를 보냄.


- 구성

  1.  프로그램 계수기(PC) :  다음에 실행할 명령어를 기억하는 레지스터


  2. 주소 레지스터(MAR) : 주기억장치에서 선택될 주소를 기억하는 레지스터


  3.  메모리 버퍼 레지스터(MBR) : 주기억장치의 내용을 임시로 저장하는 레지스터


  4. 명령 래지스터(IR) : 명령이 호출되고 실행이 끝날때까지 명령을 보관하는 레지스터


  5. 명령 해독기 : 명령 레지스터에서 온 명령을 해독하는 장치

  6. 인덱스 레지스터 : 주소를 계산할 때 이용되는 레지스터, 이때 주소가 아니라 인덱스의 차이를 기억하고 있음

  7. 부호기(제어신호기) :  명령 해독기로 온 신호를 각 장치에 맞는 신호로 바꾸어 각각의 장치에 보내는 장치

- 구동 순서

      명령 계수기에 있는 주소를 MAR로  -> MAR을 IR로 -> 명령 해독기로 해독 -> 제어 신호 발생기로 신호 발생 -> 프로그램 계수기에 기억



### 연산장치(ALU)

    연산과 논리동작을 담당



- 구성

    1. 누산기 : 연산 결과를 임시로 저장하는 레지스터

    2. 데이터 레지스터 : 주기억장치에 데이터를 임시 보관할 때 사용

    3. 가산기 : 누산기와 데이터 레지스터의 두 수를 가산

    4. 상태 레지스터 : 연산의 결과가 어떤 형식인지, 오버플로 유무, 인트럽트 유무를 나타내는 장치

    5. 범용 레지스터 : 다목적으로 사용할 수 있는 레지스터, 4BYTE

    6. 부동소수점 레지스터

    7. 특수기능 레지스터 : 128바이트, 주변기기의 상태정보나 제어값을 나타내는 장치



























